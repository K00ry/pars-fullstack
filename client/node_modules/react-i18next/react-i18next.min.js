!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],t):t(e.reactI18next={},e.React,e.PropTypes)}(this,function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!==(void 0===e?"undefined":_(e))||null===e||"object"!==(void 0===t?"undefined":_(t))||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!q.call(t,n[o])||!r(e[n[o]],t[n[o]]))return!1;return!0}function o(e){K=R({},K,e)}function a(){return K}function s(e){M=e}function p(){return M}function c(e){return e.displayName||e.name||"Component"}function u(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(o){var s=function(t){function n(t,i){C(this,n);var o=D(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,i));o.i18n=t.i18n||r.i18n||i.i18n||p(),o.namespaces="function"==typeof e?e(t):e||i.defaultNS||o.i18n.options&&o.i18n.options.defaultNS,"string"==typeof o.namespaces&&(o.namespaces=[o.namespaces]);var s=o.i18n&&o.i18n.options&&o.i18n.options.react||{};return o.options=R({},a(),s,r),i.reportNS&&(o.namespaces||[void 0]).forEach(i.reportNS),o.getWrappedInstance=o.getWrappedInstance.bind(o),o}return A(n,t),E(n,[{key:"shouldComponentUpdate",value:function(e){return!this.options.usePureComponent||!i(this.props,e)}},{key:"getWrappedInstance",value:function(){return this.options.withRef||console.error("To access the wrapped instance, you need to specify { withRef: true } as the second argument of the translate() call."),this.wrappedInstance}},{key:"render",value:function(){var e=this,t={};return this.options.withRef&&(t.ref=function(t){e.wrappedInstance=t}),S.createElement(B,R({ns:this.namespaces},this.options,this.props,{i18n:this.i18n}),function(n,r){var i=r.ready,a=L(r,["ready"]);return S.createElement(o,R({tReady:i},e.props,t,a))})}}]),n}(t.Component);return s.WrappedComponent=o,s.contextTypes={i18n:n.object,defaultNS:n.string,reportNS:n.func},s.displayName="Translate("+c(o)+")",s.namespaces=e,T(s,o)}}function l(e,t,n,r,i){var o=t.indexOf("<",r),a=t.slice(r,-1===o?void 0:o);/^\s*$/.test(a)&&(a=" "),(!i&&o>-1&&n+e.length>=0||" "!==a)&&e.push({type:"text",content:a})}function f(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}function d(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?f(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(d,"")+"</"+t.name+">"}}function h(e){return e&&(e.children||e.props&&e.props.children)}function y(e){return e&&e.children?e.children:e.props&&e.props.children}function v(e,t,n){return t?("[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),t.forEach(function(t,n){var r=""+n;if("string"==typeof t)e=""+e+t;else if(h(t))e=e+"<"+r+">"+v("",y(t),n+1)+"</"+r+">";else if(S.isValidElement(t))e=e+"<"+r+"></"+r+">";else if("object"===(void 0===t?"undefined":_(t))){var i=R({},t),o=i.format;delete i.format;var a=Object.keys(i);o&&1===a.length?e=e+"<"+r+">{{"+a[0]+", "+o+"}}</"+r+">":1===a.length?e=e+"<"+r+">{{"+a[0]+"}}</"+r+">":console&&console.warn&&console.warn("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",t)}else console&&console.warn&&console.warn("react-i18next: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",t)}),e):""}function m(e,t,n){function r(e,t){return"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),t.reduce(function(t,i,o){if("tag"===i.type){var a=e[parseInt(i.name,10)]||{},s=S.isValidElement(a);if("string"==typeof a)t.push(a);else if(h(a)){var p=r(y(a),i.children);a.dummy&&(a.children=p),t.push(S.cloneElement(a,R({},a.props,{key:o}),p))}else if("object"!==(void 0===a?"undefined":_(a))||s)t.push(a);else if(i.children[0]?i.children[0].content:null){var c=n.services.interpolator.interpolate(i.children[0].content,a,n.language);t.push(c)}}else"text"===i.type&&t.push(i.content);return t},[])}return""===t?[]:e?y(r([{dummy:!0,children:e}],Q.parse("<0>"+t+"</0>"))[0]):[t]}function g(e,t){for(var n=0,r=e.length;n<r;n++)if("object"===_(e[n])){var i=!0,o=!1,a=void 0;try{for(var s,p=Z(e[n])[Symbol.iterator]();!(i=(s=p.next()).done);i=!0){var c=W(s.value,2),u=c[0];t(c[1],n,u)}}catch(e){o=!0,a=e}finally{try{!i&&p.return&&p.return()}finally{if(o)throw a}}}else t(e[n],n)}function b(e){var t=[];return g(e,function(e){e&&e.namespaces&&e.namespaces.forEach(function(e){-1===t.indexOf(e)&&t.push(e)})}),t}var S="default"in t?t.default:t;n=n&&n.hasOwnProperty("default")?n.default:n;var O={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},j={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},w=Object.defineProperty,x=Object.getOwnPropertyNames,I=Object.getOwnPropertySymbols,N=Object.getOwnPropertyDescriptor,k=Object.getPrototypeOf,P=k&&k(Object),T=function e(t,n,r){if("string"!=typeof n){if(P){var i=k(n);i&&i!==P&&e(t,i,r)}var o=x(n);I&&(o=o.concat(I(n)));for(var a=0;a<o.length;++a){var s=o[a];if(!(O[s]||j[s]||r&&r[s])){var p=N(n,s);try{w(t,s,p)}catch(e){}}}return t}return t},_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C=(function(){function e(e){this.value=e}function t(t){function n(i,o){try{var a=t[i](o),s=a.value;s instanceof e?Promise.resolve(s.value).then(function(e){n("next",e)},function(e){n("throw",e)}):r(a.done?"return":"normal",a.value)}catch(e){r("throw",e)}}function r(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}(i=i.next)?n(i.key,i.arg):o=null}var i,o;this._invoke=function(e,t){return new Promise(function(r,a){var s={key:e,arg:t,resolve:r,reject:a,next:null};o?o=o.next=s:(i=o=s,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},L=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},D=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},W=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),q=Object.prototype.hasOwnProperty,K={wait:!1,withRef:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",translateFuncName:"t",nsMode:"default",usePureComponent:!1,omitBoundRerender:!0},M=void 0,$={type:"3rdParty",init:function(e){o(e.options.react),s(e)}},z=!1,B=function(e){function t(e,n){C(this,t);var r=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.i18n=e.i18n||n.i18n||p();var i=r.i18n&&r.i18n.options&&r.i18n.options.react||{};r.options=R({},a(),i,e),e.initialI18nStore&&(r.i18n.services.resourceStore.data=e.initialI18nStore,r.options.wait=!1),e.initialLanguage&&r.i18n.changeLanguage(e.initialLanguage),r.i18n.options&&r.i18n.options.isInitialSSR&&(r.options.wait=!1);var o=r.i18n.languages&&r.i18n.languages[0],s=!!o&&r.getNamespaces().every(function(e){return r.i18n.hasResourceBundle(o,e)});return r.state={i18nLoadedAt:null,ready:s},r.t=r.getI18nTranslate(),r.onI18nChanged=r.onI18nChanged.bind(r),r.getI18nTranslate=r.getI18nTranslate.bind(r),r.namespaces=r.getNamespaces.bind(r),r}return A(t,e),E(t,[{key:"getChildContext",value:function(){return{t:this.t,i18n:this.i18n}}},{key:"componentDidMount",value:function(){this.loadNamespaces()}},{key:"componentDidUpdate",value:function(e){this.props.ns&&e.ns!==this.props.ns&&this.loadNamespaces()}},{key:"componentWillUnmount",value:function(){var e=this;this.mounted=!1,this.onI18nChanged&&(this.options.bindI18n&&this.options.bindI18n.split(" ").forEach(function(t){return e.i18n.off(t,e.onI18nChanged)}),this.options.bindStore&&this.options.bindStore.split(" ").forEach(function(t){return e.i18n.store&&e.i18n.store.off(t,e.onI18nChanged)}))}},{key:"onI18nChanged",value:function(){this.mounted&&(!this.state.ready&&this.options.omitBoundRerender||(this.t=this.getI18nTranslate(),this.setState({i18nLoadedAt:new Date})))}},{key:"getI18nTranslate",value:function(){return this.i18n.getFixedT(null,"fallback"===this.options.nsMode?this.getNamespaces():this.getNamespaces()[0])}},{key:"getNamespaces",value:function(){var e=this.props.ns||this.i18n.options&&this.i18n.options.defaultNS;return"string"==typeof e?[e]:e}},{key:"loadNamespaces",value:function(){var e=this,t=function(){e.options.bindI18n&&e.i18n&&e.i18n.on(e.options.bindI18n,e.onI18nChanged),e.options.bindStore&&e.i18n.store&&e.i18n.store.on(e.options.bindStore,e.onI18nChanged)};this.mounted=!0,this.i18n.loadNamespaces(this.getNamespaces(),function(){var n=function(){e.mounted&&!e.state.ready&&e.setState({ready:!0}),e.options.wait&&e.mounted&&t()};if(e.i18n.isInitialized)n();else{e.i18n.on("initialized",function t(){setTimeout(function(){e.i18n.off("initialized",t)},1e3),n()})}}),this.options.wait||t()}},{key:"render",value:function(){var e=this,t=this.props.children,n=this.state.ready;return!n&&this.options.wait?null:(this.i18n.options&&this.i18n.options.isInitialSSR&&!z&&(z=!0,setTimeout(function(){delete e.i18n.options.isInitialSSR},100)),t(this.t,{i18n:this.i18n,t:this.t,lng:this.i18n.language,ready:n}))}}]),t}(t.Component);B.contextTypes={i18n:n.object},B.childContextTypes={t:n.func.isRequired,i18n:n.object},u.setDefaults=o,u.setI18n=s;var H=function(e){function t(e,n){C(this,t);var r=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.i18n=e.i18n||n.i18n,r.t=e.t||n.t,r}return A(t,e),E(t,[{key:"render",value:function(){var e=this,t=this.props.parent||"span",n=this.props.regexp||this.i18n.services.interpolator.regexp,r=this.props,i=r.className,o=r.style,a=this.props.useDangerouslySetInnerHTML||!1,s=this.props.dangerouslySetInnerHTMLPartElement||"span",p=R({},this.props.options,{interpolation:{prefix:"#$?",suffix:"?$#"}}),c=this.t(this.props.i18nKey,p);if(!c||"string"!=typeof c)return S.createElement("noscript",null);var u=[],l=function(t,n){if(t.indexOf(e.i18n.options.interpolation.formatSeparator)<0)return void 0===n[t]&&e.i18n.services.logger.warn("interpolator: missed to pass in variable "+t+" for interpolating "+c),n[t];var r=t.split(e.i18n.options.interpolation.formatSeparator),i=r.shift().trim(),o=r.join(e.i18n.options.interpolation.formatSeparator).trim();return void 0===n[i]&&e.i18n.services.logger.warn("interpolator: missed to pass in variable "+i+" for interpolating "+c),e.i18n.options.interpolation.format(n[i],o,e.i18n.language)};c.split(n).reduce(function(t,n,r){var i=void 0;if(r%2==0){if(0===n.length)return t;i=a?S.createElement(s,{dangerouslySetInnerHTML:{__html:n}}):n}else i=l(n,e.props);return t.push(i),t},u);var f={};if(this.i18n.options.react&&this.i18n.options.react.exposeNamespace){var d="string"==typeof this.t.ns?this.t.ns:this.t.ns[0];this.props.i18nKey&&this.i18n.options.nsSeparator&&this.props.i18nKey.indexOf(this.i18n.options.nsSeparator)>-1&&(d=this.props.i18nKey.split(this.i18n.options.nsSeparator)[0]),this.t.ns&&(f["data-i18next-options"]=JSON.stringify({ns:d}))}return i&&(f.className=i),o&&(f.style=o),S.createElement.apply(this,[t,f].concat(u))}}]),t}(t.Component);H.propTypes={className:n.string},H.defaultProps={className:""},H.contextTypes={i18n:n.object.isRequired,t:n.func.isRequired};var U={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},V=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,F=function(e){var t,n=0,r=!0,i={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return e.replace(V,function(o){if("="===o)return r=!0,void n++;r?0===n?((U[o]||"/"===e.charAt(e.length-2))&&(i.voidElement=!0),i.name=o):(i.attrs[t]=o.replace(/^['"]|['"]$/g,""),t=void 0):(t&&(i.attrs[t]=t),t=o),n++,r=!1}),i},J=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,G=Object.create?Object.create(null):{},Q={parse:function(e,t){t||(t={}),t.components||(t.components=G);var n,r=[],i=-1,o=[],a=!1;return e.replace(J,function(s,p){if(a){if(s!=="</"+n.name+">")return;a=!1}var c,u="/"!==s.charAt(1),f=0===s.indexOf("\x3c!--"),d=p+s.length,h=e.charAt(d);u&&!f&&(i++,"tag"===(n=F(s)).type&&t.components[n.name]&&(n.type="component",a=!0),n.voidElement||a||!h||"<"===h||l(n.children,e,i,d,t.ignoreWhitespace),0===i&&r.push(n),(c=o[i-1])&&c.children.push(n),o[i]=n),(f||!u||n.voidElement)&&(f||i--,!a&&"<"!==h&&h&&l(c=-1===i?r:o[i].children,e,i,d,t.ignoreWhitespace))}),!r.length&&e.length&&l(r,e,0,0,t.ignoreWhitespace),r},stringify:function(e){return e.reduce(function(e,t){return e+d("",t)},"")}},X=function(e){function t(){return C(this,t),D(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),E(t,[{key:"render",value:function(){var e=R({i18n:this.context.i18n,t:this.context.t},this.props),t=e.children,n=e.count,r=e.parent,i=e.i18nKey,o=e.tOptions,a=e.values,s=e.defaults,p=e.components,c=e.ns,u=e.i18n,l=e.t,f=L(e,["children","count","parent","i18nKey","tOptions","values","defaults","components","ns","i18n","t"]),d=l||u.t.bind(u),h=u.options&&u.options.react||{},y=void 0!==r?r:h.defaultTransParent,g=s||v("",t,0),b=h.hashTransKey,O=i||(b?b(g):g),j=a?{}:{interpolation:{prefix:"#$?",suffix:"?$#"}},w=O?d(O,R({},o,a,j,{defaultValue:g,count:n,ns:c})):g;if(h.exposeNamespace){var x="string"==typeof d.ns?d.ns:d.ns[0];i&&u.options&&u.options.nsSeparator&&i.indexOf(u.options.nsSeparator)>-1&&(x=i.split(u.options.nsSeparator)[0]),d.ns&&(f["data-i18next-options"]=JSON.stringify({ns:x}))}return y?S.createElement(y,f,m(p||t,w,u)):m(p||t,w,u)}}]),t}(S.Component);X.propTypes={count:n.number,parent:n.oneOfType([n.node,n.func]),i18nKey:n.string,i18n:n.object,t:n.func},X.contextTypes={i18n:n.object,t:n.func};var Y=function(e){function n(e,t){C(this,n);var r=D(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.i18n=e.i18n,r.defaultNS=e.defaultNS,e.initialI18nStore&&(r.i18n.services.resourceStore.data=e.initialI18nStore,r.i18n.options.isInitialSSR=!0),e.initialLanguage&&r.i18n.changeLanguage(e.initialLanguage),r.reportNS=e.reportNS,r}return A(n,e),E(n,[{key:"getChildContext",value:function(){return{i18n:this.i18n,defaultNS:this.defaultNS,reportNS:this.reportNS}}},{key:"componentWillReceiveProps",value:function(e){if(this.props.i18n!==e.i18n)throw new Error("[react-i18next][I18nextProvider]does not support changing the i18n object.")}},{key:"render",value:function(){var e=this.props.children;return t.Children.only(e)}}]),n}(t.Component);Y.propTypes={i18n:n.object.isRequired,children:n.element.isRequired,defaultNS:n.string,reportNS:n.func},Y.childContextTypes={i18n:n.object.isRequired,defaultNS:n.string,reportNS:n.func},Y.defaultProps={defaultNS:void 0,reportNS:void 0};var Z=Object.entries||function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r};e.translate=u,e.I18n=B,e.Interpolate=H,e.Trans=X,e.I18nextProvider=Y,e.loadNamespaces=function(e){var t=e.components,n=e.i18n,r=b(t);return new Promise(function(e){n.loadNamespaces(r,e)})},e.reactI18nextModule=$,e.setDefaults=o,e.getDefaults=a,e.setI18n=s,e.getI18n=p,Object.defineProperty(e,"__esModule",{value:!0})});
