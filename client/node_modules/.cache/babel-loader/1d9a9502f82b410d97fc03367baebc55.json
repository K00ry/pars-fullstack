{"ast":null,"code":"/* Written by Erik Terwan - MIT license - https://github.com/terwanerik */\n!function (t, e) {\n  \"function\" == typeof define && define.amd ? define([], e) : \"object\" == typeof module && module.exports ? module.exports = e() : t.ScrollTrigger = e();\n}(this, function () {\n  \"use strict\";\n\n  return function (t, e, n) {\n    function i() {\n      var t = h.bindElement.scrollTop ? h.bindElement.scrollTop : document.documentElement.scrollTop,\n          e = h.bindElement.scrollLeft ? h.bindElement.scrollLeft : document.documentElement.scrollLeft;\n      a.left == e && a.top == t || h.scrollDidChange(), r.length > 0 || c.length > 0 ? (u = !0, d(i)) : u = !1;\n    }\n\n    function l(t, e) {\n      var n = e.split(\"(\"),\n          i = n[0];\n      if (n.length > 1 ? (n = n[1].split(\")\")[0], n = n.indexOf(\"', '\") > -1 ? n.split(\"', '\") : n.indexOf(\"','\") > -1 ? n.split(\"','\") : n.indexOf('\", \"') > -1 ? n.split('\", \"') : n.indexOf('\",\"') > -1 ? n.split('\",\"') : [n]) : n = [], n = n.map(function (t) {\n        return s(t);\n      }), \"function\" == typeof h.callScope[i]) try {\n        h.callScope[i].apply(t.element, n);\n      } catch (l) {\n        try {\n          h.callScope[i].apply(null, n);\n        } catch (l) {}\n      }\n    }\n\n    function s(t) {\n      return t += \"\", '\"' == t[0] && (t = t.substr(1)), \"'\" == t[0] && (t = t.substr(1)), '\"' == t[t.length - 1] && (t = t.substr(0, t.length - 1)), \"'\" == t[t.length - 1] && (t = t.substr(0, t.length - 1)), t;\n    }\n\n    var o = function o(t, e) {\n      this.element = e, this.defaultOptions = t, this.showCallback = null, this.hideCallback = null, this.visibleClass = \"visible\", this.hiddenClass = \"invisible\", this.addWidth = !1, this.addHeight = !1, this.once = !1;\n      var n = 0,\n          i = 0;\n      this.left = function (t) {\n        return function () {\n          return t.element.getBoundingClientRect().left;\n        };\n      }(this), this.top = function (t) {\n        return function () {\n          return t.element.getBoundingClientRect().top;\n        };\n      }(this), this.xOffset = function (t) {\n        return function (e) {\n          var i = n;\n          return t.addWidth && !e ? i += t.width() : e && !t.addWidth && (i -= t.width()), i;\n        };\n      }(this), this.yOffset = function (t) {\n        return function (e) {\n          var n = i;\n          return t.addHeight && !e ? n += t.height() : e && !t.addHeight && (n -= t.height()), n;\n        };\n      }(this), this.width = function (t) {\n        return function () {\n          return t.element.offsetWidth;\n        };\n      }(this), this.height = function (t) {\n        return function () {\n          return t.element.offsetHeight;\n        };\n      }(this), this.reset = function (t) {\n        return function () {\n          t.removeClass(t.visibleClass), t.removeClass(t.hiddenClass);\n        };\n      }(this), this.addClass = function (t) {\n        var e = function e(_e, n) {\n          t.element.classList.contains(_e) || (t.element.classList.add(_e), \"function\" == typeof n && n());\n        },\n            n = function n(e, _n) {\n          e = e.trim();\n          var i = new RegExp(\"(?:^|\\\\s)\" + e + \"(?:(\\\\s\\\\w)|$)\", \"ig\"),\n              l = t.element.className;\n          i.test(l) || (t.element.className += \" \" + e, \"function\" == typeof _n && _n());\n        };\n\n        return t.element.classList ? e : n;\n      }(this), this.removeClass = function (t) {\n        var e = function e(_e2, n) {\n          t.element.classList.contains(_e2) && (t.element.classList.remove(_e2), \"function\" == typeof n && n());\n        },\n            n = function n(e, _n2) {\n          e = e.trim();\n          var i = new RegExp(\"(?:^|\\\\s)\" + e + \"(?:(\\\\s\\\\w)|$)\", \"ig\"),\n              l = t.element.className;\n          i.test(l) && (t.element.className = l.replace(i, \"$1\").trim(), \"function\" == typeof _n2 && _n2());\n        };\n\n        return t.element.classList ? e : n;\n      }(this), this.init = function (t) {\n        return function () {\n          var e = t.defaultOptions,\n              l = t.element.getAttribute(\"data-scroll\");\n          e && (e.toggle && e.toggle.visible && (t.visibleClass = e.toggle.visible), e.toggle && e.toggle.hidden && (t.hiddenClass = e.toggle.hidden), e.showCallback && (t.showCallback = e.showCallback), e.hideCallback && (t.hideCallback = e.hideCallback), e.centerHorizontal === !0 && (n = t.element.offsetWidth / 2), e.centerVertical === !0 && (i = t.element.offsetHeight / 2), e.offset && e.offset.x && (n += e.offset.x), e.offset && e.offset.y && (i += e.offset.y), e.addWidth && (t.addWidth = e.addWidth), e.addHeight && (t.addHeight = e.addHeight), e.once && (t.once = e.once));\n          var s = l.indexOf(\"addWidth\") > -1,\n              o = l.indexOf(\"addHeight\") > -1,\n              r = l.indexOf(\"once\") > -1;\n          t.addWidth === !1 && s === !0 && (t.addWidth = s), t.addHeight === !1 && o === !0 && (t.addHeight = o), t.once === !1 && r === !0 && (t.once = r), t.showCallback = t.element.hasAttribute(\"data-scroll-showCallback\") ? t.element.getAttribute(\"data-scroll-showCallback\") : t.showCallback, t.hideCallback = t.element.hasAttribute(\"data-scroll-hideCallback\") ? t.element.getAttribute(\"data-scroll-hideCallback\") : t.hideCallback;\n          var c = l.split(\"toggle(\");\n\n          if (c.length > 1) {\n            var a = c[1].split(\")\")[0].split(\",\");\n            String.prototype.trim || (String.prototype.trim = function () {\n              return this.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\");\n            }), t.visibleClass = a[0].trim().replace(\".\", \"\"), t.hiddenClass = a[1].trim().replace(\".\", \"\");\n          }\n\n          l.indexOf(\"centerHorizontal\") > -1 && (n = t.element.offsetWidth / 2), l.indexOf(\"centerVertical\") > -1 && (i = t.element.offsetHeight / 2);\n          var d = l.split(\"offset(\");\n\n          if (d.length > 1) {\n            var u = d[1].split(\")\")[0].split(\",\");\n            n += parseInt(u[0].replace(\"px\", \"\")), i += parseInt(u[1].replace(\"px\", \"\"));\n          }\n\n          return t;\n        };\n      }(this);\n    };\n\n    this.scrollElement = window, this.bindElement = document.body, this.callScope = window;\n\n    var r = [],\n        c = [],\n        a = {\n      left: -1,\n      top: -1\n    },\n        d = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame || function (t) {\n      setTimeout(t, 1e3 / 60);\n    },\n        u = !1,\n        f = function (t) {\n      return function (e, n, i) {\n        return void 0 != n && null != n ? t.bindElement = n : t.bindElement = document.body, void 0 != i && null != i ? t.scrollElement = i : t.scrollElement = window, t.bind(t.bindElement.querySelectorAll(\"[data-scroll]\")), t;\n      };\n    }(this);\n\n    this.bind = function (e) {\n      return function (n) {\n        n instanceof HTMLElement && (n = [n]);\n        var l = [].slice.call(n);\n        return l = l.map(function (e) {\n          var n = new o(t, e);\n          return n.init();\n        }), r = r.concat(l), r.length > 0 && 0 == u ? (u = !0, i()) : u = !1, e;\n      };\n    }(this), this.triggerFor = function () {\n      return function (t) {\n        var e = null;\n        return r.each(function (n) {\n          n.element == t && (e = n);\n        }), e;\n      };\n    }(this), this.destroy = function (t) {\n      return function (e) {\n        return r.each(function (t, n) {\n          t.element == e && r.splice(n, 1);\n        }), t;\n      };\n    }(this), this.destroyAll = function (t) {\n      return function () {\n        return r = [], t;\n      };\n    }(this), this.reset = function (t) {\n      return function (e) {\n        var n = t.triggerFor(e);\n\n        if (null != n) {\n          n.reset();\n          var i = r.indexOf(n);\n          i > -1 && r.splice(i, 1);\n        }\n\n        return t;\n      };\n    }(this), this.resetAll = function (t) {\n      return function () {\n        return r.each(function (t) {\n          t.reset();\n        }), r = [], t;\n      };\n    }(this), this.attach = function (t) {\n      return function (e) {\n        return c.push(e), u || (u = !0, i()), t;\n      };\n    }(this), this.detach = function (t) {\n      return function (e) {\n        var n = c.indexOf(e);\n        return n > -1 && c.splice(n, 1), t;\n      };\n    }(this);\n    var h = this;\n    return this.scrollDidChange = function (t) {\n      return function () {\n        var e = t.scrollElement.innerWidth || t.scrollElement.offsetWidth,\n            n = t.scrollElement.innerHeight || t.scrollElement.offsetHeight,\n            i = t.bindElement.scrollTop ? t.bindElement.scrollTop : document.documentElement.scrollTop,\n            s = t.bindElement.scrollLeft ? t.bindElement.scrollLeft : document.documentElement.scrollLeft,\n            o = [];\n        r.each(function (t) {\n          var r = t.left(),\n              c = t.top();\n          a.left > s ? r -= t.xOffset(!0) : a.left < s && (r += t.xOffset(!1)), a.top > i ? c -= t.yOffset(!0) : a.top < i && (c += t.yOffset(!1)), e > r && r >= 0 && n > c && c >= 0 ? (t.addClass(t.visibleClass, function () {\n            t.showCallback && l(t, t.showCallback);\n          }), t.removeClass(t.hiddenClass), t.once && o.push(t)) : (t.addClass(t.hiddenClass), t.removeClass(t.visibleClass, function () {\n            t.hideCallback && l(t, t.hideCallback);\n          }));\n        }), c.each(function (l) {\n          l.call(t, s, i, e, n);\n        }), o.each(function (t) {\n          var e = r.indexOf(t);\n          e > -1 && r.splice(e, 1);\n        }), a.left = s, a.top = i;\n      };\n    }(this), Array.prototype.each = function (t) {\n      for (var e = this.length, n = 0; e > n; n++) {\n        var i = this[n];\n        i && t(i, n);\n      }\n    }, f(t, e, n);\n  };\n});","map":null,"metadata":{},"sourceType":"script"}